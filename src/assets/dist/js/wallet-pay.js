/*! For license information please see wallet-pay.js.LICENSE.txt */
(()=>{var t={115:function(t,e,n){t.exports=function(){"use strict";function t(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function e(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))}function r(t){return t.replace(/[A-Z]+/g,(t=>"-"+t)).replace(/^-/,"").toLowerCase()}function o(t){return function(e,n){const o=t||r(n);e.addObservedAttribute&&e.addObservedAttribute(o),Object.defineProperty(e,n,{get(){return this.getAttribute(o)},set(t){null==t?this.removeAttribute(o):this.setAttribute(o,t),this.notifyPropertyChanged(n)},enumerable:!0,configurable:!0})}}function i(t){return t?o(t):function(t,e){Object.defineProperty(t,e,{get(){return this["$__"+e]},set(t){this["$__"+e]=t,this.notifyPropertyChanged(e)},enumerable:!0,configurable:!0})}}function a(t){return function(e,n){Object.defineProperty(e,t,{get(){return this[n]},set(t){this[n]=t},enumerable:!0,configurable:!1})}}let c={};function s(t){const e=c[t];if(e)return e;const n=new Promise(((e,n)=>{const r=document.createElement("script");r.src=t,r.async=!0;const o=()=>{e()},i=()=>{r.removeEventListener("load",o),r.removeEventListener("error",i),delete c[t],r.remove(),n(new Error("Unable to load script "+t))};r.addEventListener("load",o),r.addEventListener("error",i),document.body.appendChild(r)}));return c[t]=n,n}class u{constructor(t){this.handleClick=t=>e(this,void 0,void 0,(function*(){const e=this.config;if(!e)throw new Error("google-pay-button: Missing configuration");const n=this.createLoadPaymentDataRequest(e);try{if(e.onClick&&e.onClick(t),t.defaultPrevented)return;const r=yield this.client.loadPaymentData(n);e.onLoadPaymentData&&e.onLoadPaymentData(r)}catch(t){"CANCELED"===t.statusCode?e.onCancel&&e.onCancel(t):e.onError?e.onError(t):console.error(t)}})),this.options=t}getElement(){return this.element}isGooglePayLoaded(){var t,e;return"google"in(window||n.g)&&!!(null===(e=null===(t=null===google||void 0===google?void 0:google.payments)||void 0===t?void 0:t.api)||void 0===e?void 0:e.PaymentsClient)}mount(t){return e(this,void 0,void 0,(function*(){this.isGooglePayLoaded()||(yield s("https://pay.google.com/gp/p/js/pay.js")),this.element=t,t&&(this.appendStyles(),this.config&&this.updateElement())}))}unmount(){this.element=void 0}configure(t){let e;return this.config=t,this.oldInvalidationValues&&!this.isClientInvalidated(t)||(e=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(t),null!=e?e:Promise.resolve()}createClientOptions(t){const e={environment:t.environment,merchantInfo:this.createMerchantInfo(t)};return(t.onPaymentDataChanged||t.onPaymentAuthorized)&&(e.paymentDataCallbacks={},t.onPaymentDataChanged&&(e.paymentDataCallbacks.onPaymentDataChanged=e=>t.onPaymentDataChanged(e)||{}),t.onPaymentAuthorized&&(e.paymentDataCallbacks.onPaymentAuthorized=e=>t.onPaymentAuthorized(e)||{})),e}createIsReadyToPayRequest(t){const e=t.paymentRequest;return{apiVersion:e.apiVersion,apiVersionMinor:e.apiVersionMinor,allowedPaymentMethods:e.allowedPaymentMethods,existingPaymentMethodRequired:t.existingPaymentMethodRequired}}createLoadPaymentDataRequest(t){return Object.assign(Object.assign({},t.paymentRequest),{merchantInfo:this.createMerchantInfo(t)})}createMerchantInfo(t){const e=Object.assign({},t.paymentRequest.merchantInfo);return e.softwareInfo||(e.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),e}isMounted(){return null!=this.element&&!1!==this.element.isConnected}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(const t of Array.from(this.element.children))"STYLE"!==t.tagName&&t.remove()}updateElement(){return e(this,void 0,void 0,(function*(){if(!this.isMounted())return;const t=this.getElement();if(!this.config)throw new Error("google-pay-button: Missing configuration");this.removeButton(),this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config));const e={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick,allowedPaymentMethods:this.config.paymentRequest.allowedPaymentMethods},n=t.getRootNode();n instanceof ShadowRoot&&(e.buttonRootNode=n);const r=this.client.createButton(e);this.setClassName(t,[t.className,"not-ready"]),t.appendChild(r);let o,i=!1;try{o=yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config)),i=o.result&&!this.config.existingPaymentMethodRequired||o.result&&o.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1}catch(t){this.config.onError?this.config.onError(t):console.error(t)}if(this.isMounted()){if(i){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(t){console.log("Error with prefetch",t)}this.setClassName(t,(t.className||"").split(" ").filter((t=>t&&"not-ready"!==t)))}if((this.isReadyToPay!==(null==o?void 0:o.result)||this.paymentMethodPresent!==(null==o?void 0:o.paymentMethodPresent))&&(this.isReadyToPay=!!(null==o?void 0:o.result),this.paymentMethodPresent=null==o?void 0:o.paymentMethodPresent,this.config.onReadyToPayChange)){const t={isButtonVisible:i,isReadyToPay:this.isReadyToPay};this.paymentMethodPresent&&(t.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(t)}}}))}setClassName(t,e){const n=e.filter((t=>t)).join(" ");n?t.className=n:t.removeAttribute("class")}appendStyles(){var t,e,n;if("undefined"==typeof document)return;const r=null===(t=this.element)||void 0===t?void 0:t.getRootNode(),o=`default-google-style-${this.options.cssSelector.replace(/[^\w-]+/g,"")}-${null===(e=this.config)||void 0===e?void 0:e.buttonLocale}`;if(r&&!(null===(n=r.getElementById)||void 0===n?void 0:n.call(r,o))){const t=document.createElement("style");t.id=o,t.type="text/css",t.innerHTML=`\n          ${this.options.cssSelector} {\n            display: inline-block;\n          }\n          ${this.options.cssSelector}.not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        `,r instanceof Document&&r.head?r.head.appendChild(t):r.appendChild(t)}}isClientInvalidated(t){return!this.oldInvalidationValues||this.getInvalidationValues(t).some(((t,e)=>t!==this.oldInvalidationValues[e]))}getInvalidationValues(t){var e,n;return[t.environment,t.existingPaymentMethodRequired,!!t.onPaymentDataChanged,!!t.onPaymentAuthorized,t.buttonColor,t.buttonType,t.buttonLocale,t.buttonSizeMode,t.paymentRequest.merchantInfo.merchantId,t.paymentRequest.merchantInfo.merchantName,null===(e=t.paymentRequest.merchantInfo.softwareInfo)||void 0===e?void 0:e.id,null===(n=t.paymentRequest.merchantInfo.softwareInfo)||void 0===n?void 0:n.version,t.paymentRequest.allowedPaymentMethods]}}var l;function h(t,e=0){let n;return function(...r){return window.clearTimeout(n),new Promise((o=>{n=window.setTimeout((()=>{const e=(n=void 0,t(...r));o(e)}),e)}))}}class f extends HTMLElement{constructor(){super(...arguments),this.manager=new u({cssSelector:"google-pay-button",softwareInfoId:"@google-pay/button-element",softwareInfoVersion:"3.0.0"}),this.initializeButton=h((()=>{if(!this.assertRequiredProperty("paymentRequest"))return;if(!this.assertRequiredProperty("environment"))return;const t={paymentRequest:this.paymentRequest,environment:this.environment,existingPaymentMethodRequired:this.existingPaymentMethodRequired,onPaymentDataChanged:this.onPaymentDataChanged,onPaymentAuthorized:this.onPaymentAuthorized,buttonColor:this.buttonColor,buttonType:this.buttonType,buttonSizeMode:this.buttonSizeMode,buttonLocale:this.buttonLocale,onReadyToPayChange:t=>{this.onReadyToPayChange&&this.onReadyToPayChange(t),this.dispatch("readytopaychange",t)},onCancel:t=>{this.onCancel&&this.onCancel(t),this.dispatch("cancel",t)},onError:t=>{var e;this.onError&&(null===(e=this.onError)||void 0===e||e.call(this,t)),this.dispatchEvent(new ErrorEvent("error",{error:t}))},onLoadPaymentData:t=>{this.onLoadPaymentData&&this.onLoadPaymentData(t),this.dispatch("loadpaymentdata",t)},onClick:t=>{var e;this.onClick&&(null===(e=this.onClick)||void 0===e||e.call(this,t))}};this.manager.configure(t)}))}get isReadyToPay(){return this.manager.isReadyToPay}assertRequiredProperty(t){return null!=this[t]||(this.throwError(Error("Required property not set: "+t)),!1)}throwError(t){throw t}static get observedAttributes(){return f._observedAttributes}addObservedAttribute(t){f._observedAttributes.push(t)}dispatch(t,e){this.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!1,detail:e}))}connectedCallback(){return e(this,void 0,void 0,(function*(){return yield this.manager.mount(this),this.initializeButton()}))}disconnectedCallback(){this.manager.unmount()}attributeChangedCallback(t){return this.initializeButton()}notifyPropertyChanged(t){return this.initializeButton()}}return f._observedAttributes=[],t([i(),a("paymentrequest")],f.prototype,"paymentRequest",void 0),t([o()],f.prototype,"environment",void 0),t([function(t,e){const n=l||r(e);t.addObservedAttribute&&t.addObservedAttribute(n),Object.defineProperty(t,e,{get(){return this.hasAttribute(n)},set(t){t?this.setAttribute(n,""):this.removeAttribute(n),this.notifyPropertyChanged(e)},enumerable:!0,configurable:!0})},a("existingpaymentmethodrequired")],f.prototype,"existingPaymentMethodRequired",void 0),t([o(),a("buttoncolor")],f.prototype,"buttonColor",void 0),t([o(),a("buttontype")],f.prototype,"buttonType",void 0),t([o(),a("buttonsizemode")],f.prototype,"buttonSizeMode",void 0),t([o(),a("buttonlocale")],f.prototype,"buttonLocale",void 0),t([i(),a("paymentDataChangedCallback"),a("paymentdatachangedcallback"),a("onpaymentdatachanged")],f.prototype,"onPaymentDataChanged",void 0),t([i(),a("paymentAuthorizedCallback"),a("paymentauthorizedcallback"),a("onpaymentauthorized")],f.prototype,"onPaymentAuthorized",void 0),t([a("readyToPayChangeCallback"),a("readytopaychangecallback"),a("onreadytopaychange")],f.prototype,"onReadyToPayChange",void 0),t([a("loadPaymentDataCallback"),a("loadpaymentdatacallback"),a("onloadpaymentdata")],f.prototype,"onLoadPaymentData",void 0),t([a("cancelCallback"),a("cancelcallback"),a("oncancel")],f.prototype,"onCancel",void 0),t([a("errorCallback"),a("errorcallback"),a("onerror")],f.prototype,"onError",void 0),t([a("clickCallback"),a("clickcallback"),a("onclick")],f.prototype,"onClick",void 0),customElements.define("google-pay-button",f),f}()}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";function t(t){var n=document.createElement("iframe");e(n,{width:"100%",height:"70vh"});var r=document.createElement("section");e(r,{"overflow-y":"auto"}),r.append(n);var o=document.createElement("div");e(o,{position:"relative","z-index":"100000","max-height":"1000px","max-width":"90%",margin:"5% auto",background:"#fff"}),o.append(r);var i=document.createElement("div");e(i,{position:"fixed",top:"0",left:"0",bottom:"0",right:"0",background:"rgba(0, 0, 0, 0.8)","z-index":"100000"}),i.append(o),document.body.append(i),n.src="data:text/html;charset=utf-8,"+encodeURI(t)}function e(t,e){for(var n in e)t.style[n]=e[n]}n(115);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function y(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==e&&n.call(g,a)&&(m=g);var b=y.prototype=p.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function o(i,a,c,s){var u=h(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,s)}),(function(t){o("throw",t,c,s)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=y,u(b,"constructor",y),u(y,"constructor",d),d.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(P.prototype),u(P.prototype,c,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function i(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(e,n){n.totalPrice||console.warn("GooglePayButton - error, missing required config value 'totalPrice'"),n.merchantName||console.warn("GooglePayButton - error, missing required config value 'merchantName'"),n.merchantId||console.warn("GooglePayButton - error, missing required config value 'merchantName'"),n.onSuccess||n.salesFunnelFormData||console.warn("GooglePayButton - error, please provide one of the config values, either 'onSuccess' or 'salesFunnelFormData'.");var r=function(e){return{paymentRequest:c(c({},l),{},{transactionInfo:c(c({},l.transactionInfo),{},{totalPrice:e.totalPrice}),merchantInfo:c(c({},l.merchantInfo),{},{merchantId:e.merchantId,merchantName:e.merchantName})}),onClick:function(t){e.isValid&&!e.isValid()&&t.preventDefault()},onLoadPaymentData:function(n){var r=n.paymentMethodData.tokenizationData.token;if(e.salesFunnelFormData){var a=new Promise(function(){var n,a=(n=o().mark((function n(i,a){var c,s,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(c="function"==typeof e.salesFunnelFormData?e.salesFunnelFormData():e.salesFunnelFormData).append("google_pay_token",r),n.prev=2,n.next=5,fetch("/sales-funnel/sales-funnel-frontend/submit",{method:"POST",mode:"cors",cache:"no-cache",body:c});case 5:return s=n.sent,n.next=8,s.json();case 8:u=n.sent,i(),u.google_pay.tds_html?t(u.google_pay.tds_html):window.top.location.href=u.google_pay.redirect_url,n.next=17;break;case 13:n.prev=13,n.t0=n.catch(2),console.error("GooglePay - error during payment submission: "+n.t0),a("GooglePay - error during payment submission: "+n.t0);case 17:case"end":return n.stop()}}),n,null,[[2,13]])})),function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function c(t){i(a,r,o,c,s,"next",t)}function s(t){i(a,r,o,c,s,"throw",t)}c(void 0)}))});return function(t,e){return a.apply(this,arguments)}}());e.inProgress&&e.inProgress(a)}else e.onSuccess(r)},onError:function(t){console.error("Google Pay - error has occurred",t)}}}(n);Object.assign(e,r),this.buttonElement=e,this.config=r,this.update=function(t){this.config.paymentRequest.transactionInfo.totalPrice=t.totalPrice,Object.assign(this.buttonElement,this.config)}}var l={apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","INTERAC","JCB","MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"tatrabanka",gatewayMerchantId:"5120"}}}],merchantInfo:{merchantId:"12345678901234567890",merchantName:"Example Merchant"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Celkovo",totalPrice:"1.00",currencyCode:"EUR",countryCode:"SK"}};function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function f(){f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function p(){}function d(){}function y(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==e&&n.call(g,o)&&(m=g);var b=y.prototype=p.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var s=u(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==h(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=y,c(b,"constructor",y),c(y,"constructor",d),d.displayName=c(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(P.prototype),c(P.prototype,i,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),c(b,a,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function p(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){p(i,r,o,a,c,"next",t)}function c(t){p(i,r,o,a,c,"throw",t)}a(void 0)}))}}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){var n=this;e.productName||console.warn("ApplePayButton - error, missing required config value 'productName'"),e.totalPrice||console.warn("ApplePayButton - error, missing required config value 'totalPrice'"),e.merchantName||console.warn("ApplePayButton - error, missing required config value 'merchantName'"),e.onSuccess||e.salesFunnelFormData||console.warn("ApplePayButton - error, please provide one of the config values, either 'onSuccess' or 'salesFunnelFormData'."),this.config=e,this.paymentRequest={currencyCode:"EUR",countryCode:"SK",lineItems:[{label:e.productName,amount:e.totalPrice}],total:{label:e.merchantName,amount:e.totalPrice},supportedNetworks:["amex","masterCard","visa"],merchantCapabilities:["supports3DS","supportsEMV","supportsCredit","supportsDebit"]},this.update=function(t){n.config=m(m({},n.config),t),n.paymentRequest.lineItems=[{label:n.config.productName,amount:n.config.totalPrice}],n.paymentRequest.total={label:n.config.merchantName,amount:n.config.totalPrice}},t.onclick=function(t){if(e.isValid()){var r=new ApplePaySession(1,n.paymentRequest);r.onvalidatemerchant=function(){var t=d(f().mark((function t(e){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e.validationURL);case 2:n=t.sent,r.completeMerchantValidation(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.onshippingcontactselected=function(t){console.warn("'onshippingcontactselected' not implemented")},r.onshippingmethodselected=function(t){console.warn("'onshippingmethodselected' not implemented")},r.onpaymentmethodselected=function(t){r.completePaymentMethodSelection(n.paymentRequest.total,n.paymentRequest.lineItems)},r.onpaymentauthorized=function(){var t=d(f().mark((function t(n){var o,i,a,c;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=JSON.stringify(n.payment.token.paymentData),!e.salesFunnelFormData){t.next=20;break}return(i="function"==typeof e.salesFunnelFormData?e.salesFunnelFormData():e.salesFunnelFormData).append("apple_pay_token",o),t.prev=4,t.next=7,fetch("/sales-funnel/sales-funnel-frontend/submit",{method:"POST",mode:"cors",cache:"no-cache",body:i});case 7:return a=t.sent,r.completePayment(ApplePaySession.STATUS_SUCCESS),t.next=11,a.json();case 11:c=t.sent,window.top.location.href=c.apple_pay.redirect_url,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),r.completePayment(ApplePaySession.STATUS_FAILURE);case 18:t.next=21;break;case 20:e.onSuccess(o,(function(t){return r.completePayment(t?ApplePaySession.STATUS_SUCCESS:ApplePaySession.STATUS_FAILURE)}));case 21:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e){return t.apply(this,arguments)}}(),r.oncancel=function(t){},r.begin()}}}function b(t){return w.apply(this,arguments)}function w(){return(w=d(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=new XMLHttpRequest;r.onload=function(){var e=JSON.parse(this.responseText);t(e)},r.onerror=n,r.open("GET","/api/v1/apple-pay/merchant-validation?url="+e),r.send()})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var P={};function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function x(){x=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function h(){}function f(){}function p(){}var d={};c(d,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(C([])));m&&m!==e&&n.call(m,o)&&(d=m);var v=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,c){var s=u(t[o],t,i);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==E(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function L(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}window.RempWalletPay=new function(){this.googlePayButton=null,this.applePayButton=null,this.initGooglePayButton=function(t){var e=document.getElementsByTagName("google-pay-button")[0];e||console.warn("WalletPay - unable to find <google-pay-button> element, make sure it's present in DOM."),this.googlePayButton=new u(e,t)},this.updateGooglePayButton=function(t){this.googlePayButton.update(t)},this.show3ds=function(e){return t(e)},this.checkApplePayAvailability=function(){var t,e=(t=x().mark((function t(e,n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.ApplePaySession){t.next=5;break}return t.next=3,ApplePaySession.canMakePaymentsWithActiveCard(e);case 3:t.sent&&n();case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){L(i,r,o,a,c,"next",t)}function c(t){L(i,r,o,a,c,"throw",t)}a(void 0)}))});return function(t,n){return e.apply(this,arguments)}}(),this.initApplePayButton=function(t){var e=document.getElementsByTagName("apple-pay-button")[0];e||console.warn("WalletPay - unable to find <apple-pay-button> element, make sure it's present in DOM."),this.applePayButton=new g(e,t)},this.updateApplePayButton=function(t){this.applePayButton.update(t)}},document.addEventListener("DOMContentLoaded",(function(){!function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=P[t];if(n)return n;var r=new Promise((function(n,r){var o=document.createElement("script");o.src=t,e&&(o.async=!0);var i=function(){n()},a=function(){c(),delete P[t],o.remove(),r(new Error("Unable to load script ".concat(t)))};function c(){o.removeEventListener("load",i),o.removeEventListener("error",a)}o.addEventListener("load",i),o.addEventListener("error",a),document.body.appendChild(o)}));P[t]=r}("https://applepay.cdn-apple.com/jsapi/v1/apple-pay-sdk.js")}))})()})();